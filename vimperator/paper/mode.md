# 模式

像 Vim 一样，Vimperator 的强大源自它的模式界面。浏览器所处模式不同，按键的功能就有区别。Vimperator 有多重模式，其中最重要的两个是普通模式和命令模式。因为，这两个模式是用的最多的，前是我们前面的课程中，这两个模式都已经涉及到了，凡是我们的快捷键，或者命令是冒号开头的，就进入了命令模式。准确的知道 Vimperator 当前处于什么模式，是很重要的。尤其是插入模式，我们的按键往往会修改文档。

当 Vimperator 启动后，默认处于普通模式。这也将是我们大部分时间要接触的模式。

Vimperator 的另一个核心模式是命令模式，可以在普通模式下按冒号进入。我们经常使用的冒号开头的命令（快捷键），就是命令模式，冒号后面跟的就是命令。

所有模式都可以返回普通模式，请按下【ESC】。

按键可以在四种不同的模式中进行映射：

- 普通模式：正常浏览网页时
- 命令行模式：在 Vimperator 命令行中输入时
- hint 模式：快速打开页面上的链接
- 插入模式：在网站上的文本字段输入时
- 可视模式：用光标键选择文本时

## 普通模式

略。课程开篇讲解的浏览网页就是普通模式。

## 命令模式
命令模式用于执行命令（:）和文本搜索（/和?）。
【有待补充，前面讲了哪些命令？如何看到命令的历史列表？】

### 【:】
启动命令行模式。在命令行模式中可以执行扩展命令，不过可能需要参数。

### 【Up】
从历史列表中调入匹配当前命令行内容的前一个命令。

### 【Down】
从历史列表中调入匹配当前命令行内容的后一个命令。

### 【PageUp】
从历史列表中调入前一个命令。
    
### 【PageDown】
从历史列表中调入后一个命令。

### 【Tab】
根据'wildmode'选项设定的行为补全光标前的单词。如果'wildmode'包含“list”且有多个符合条件的项，则打开补全菜单窗口。

## Hint 模式

Hint 是 Vimperator 提供的用于快速打开页面链接的方法。通过给每个链接增加适当的提示，您就可以花费极少的精力访问所有链接。与鼠标提供的传统方法相比，两者差异很大：在传统方法里，您需要先查找并确定目标链接，然后不停地重复按 Tab 键，除非您总是访问页面的第一个链接，否则过程会变得越来越乏味。

【hint 英文单词的含义是线索，相当于网页上的链接。】

### 【f{hint}】
启动 QuickHint 模式。在 QuickHint 模式中，每个可 hint 的项（可通过'hinttags' XPath查询）都会分配到一个唯一的数字。您可以输入这个数字，也可以根据'hintmatching'选项的设置输入链接的部分文本，每当确定唯一的链接后会将其自动打开。一般可以先键入一些字母来缩小范围，然后再键入一个数字来保证唯一。按<Leader>（默认为:let mapleader = "\"）可切换转义模式（escape-mode），在此模式中数字被作为普通文本处理。<Esc>可在任何时候停止此模式。

### 【F{hint}】
启动 QuickHint 模式，但在新标签页中打开链接。类似于普通的 QuickHint 模式（用 f 激活），不过会在新标签页中打开链接。

### 【;{mode}{empty}{hint}】
启动扩展 hint 模式。ExtendedHint 模式可用于对提示元素执行除默认的鼠标左键单击外的其他操作。例如，您可以复制链接地址、在新窗口中打开链接或保存图像。如果您想复制 hint24 的链接位置，那么按;y启动此模式。接着按24复制位置。

{mode}可以是下列的其中一种：  
- ; 设置焦点到元素
- ? 显示元素信息（不完整）
- s 链接另存为
- S 保存媒体对象
- a 链接另存为（弹出另存为对话框）
- B 保存媒体对象（弹出保存对话框）
- f 设置焦点到框架
- o 在当前标签页中打开链接地址
- t 在新标签页中打开链接地址
- b 在新的后台标签页中打开链接地址
- w 在新窗口中打开链接地址
- F 在后台标签页中打开<CR>分隔的hint提示的一系列链接。
- O 生成含 hint 网址的 :open 命令（类似O）
- T 生成含 hint 网址的 :tabopen 命令（类似T）
- W 生成含 hint 网址的 :winopen 命令
- v 查看目标地址的源代码
- V 在外部编辑器中查看目标地址的源代码
- y 复制目标地址
- Y 复制目标的文本
- c 打开上下文菜单
- i 打开媒体对象
- I 在新标签页中打开媒体对象
- A 显示元素的描述 title 文本，如果没有则显示 alt 文本。

## 插入模式
略。

## 光标模式
### 【c】
全网页移动光标。

## 可视模式
### 【v】
在光标模式下进入可视模式，可以选中文本。