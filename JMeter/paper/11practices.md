# Jmeter 测试最佳实践

在分布式环境中克服 JMeter 局限性的指导方针：

    1. 限制线程数
    2. 使用代理服务器
    3. 使用变量
    4. 减少资源需求
    5. 检查 JMeter 日志
    6. 从 CSV 数据集配置删除本地路径
    7. 遵循文件命名约定

![](./images/BestPracticeJMeter(1).jpg)

JMeter 有一定的局限性，尤其是当它运行在一个分布式环境中，使用 JMeter 进行有效的测试，你应该使用以下指南：

### 限制线程数

你可以有效地运行 JMeter 的**最大**线程数 **300**，这个限制是因为硬件的功能，若 JMeter 运行多线程，则定时信息的准确性会降低。

### 使用代理服务器

代理服务器帮助你从记录的示例中提取某些常见元素。此外，它有用的特性可以用来记录你的测试。

### 使用变量

一些测试计划需要为不同的用户/线程使用不同的值。例如，你可能需要测试每个用户需要唯一登录的序列，使用变量这很容易实现。

### 减少资源需求

GUI 模式在重负载下消耗了大量的计算机内存， 它会导致出现性能问题。

有一些技巧可以减少资源需求:

   - 使用非 GUI 模式
   - 在加载测试期间禁用“查看结果树”侦听器，因为它会消耗很多的内存，使 JMeter 运行内存不足。
   - 禁用所有 JMeter 图形结果
   - 测试结果使用 CSV 格式。
   - 只保存所需的测试结果，JMeter 可以长时间保存非常详细的测试结果。

### 检查 JMeter 日志

测试计划或测试执行中的任何错误都将记录在日志文件中，监视日志文件可以帮助你及早发现错误。

### 从 CSV 数据集配置删除本地路径

如果你使用的是现有的 CSV 数据文件创建在本地计算机上，你必须删除现有的本地路径(当前 CSV 文件的路径)。如果你不删除本地路径，JMeter 将不能在你的本地电脑中找到 CSV 数据文件。

### 遵循文件命名约定

不在测试计划中保存复杂的文件名，只使用**字母、数字**字符。