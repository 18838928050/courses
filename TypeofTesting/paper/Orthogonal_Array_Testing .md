# 正交阵列测试教程（OAT）：工具和技巧

在本情形中，传送到客户软件的产品已成为有挑战性的，这是由于代码的复杂性。

在传统的方法中，测试套件包括来自输入值和预条件的所有组合的测试用例。因此 N 个测试用例必须被覆盖。

但在真实场景下，测试人员不会有闲暇来执行所有的测试用例来发现该缺陷的其他过程，例如文件、建议和反馈，客户仅需在测试阶段考虑。

因此，测试经理希望优化测试用例的数量和质量，用最小的努力确保最大的测试覆盖范围。这种努力被称为优化测试用例。

让我们看看如何优化测试用例，可以实现 OAT（正交阵列测试）。

在本教程中，您将学习-

- 什么是 OAT

- 为什么 OAT

- OAT 是怎样的

- OAT 的好处

- 执行 OAT 时的错误或问题

## 什么是正交阵列测试(OAT)

正交阵列测试策略是测试用例优化技术之一。

当被测试的系统有巨大的数据输入时，正交测试是一个黑盒测试-测试用例优化技术。

例如，当要验证一张火车票时，必须对乘客人数、车票号、座位号和车次号等因素进行测试，当测试员逐一核实输入时，这就变得困难了。因此，可以更有效地结合在一起，并投入更多的测试。在这里，我们可以使用正交阵列测试的方法。

这种类型的配对或组合的输入和测试系统，以节省时间被称为成对测试。OAT 技术用于成对测试。

## 为什么正交阵列测试(OAT)

1. 两两相互作用的系统统计方法

2. 集成与交互点是一个主要的缺陷源。

3. 执行一项明确、简洁的测试可能发现大多数(不是所有)缺陷。

4. 正交覆盖的方法保证对于所有变量。

## OAT 是怎样的

OA 通常被表示为：

![](./images/Orthogonal-Array-Testing.png)

- Runs (N) –阵列的行数，测试用例的生成。

- Factors (K)–阵列的列的数量，其转换成最大数目的变量来处理。

- Levels (V)——任何单一的因素的最大数目的值。

一个单一的因素有 2 到 3 个输入进行测试。输入的最大数量决定水平。

### 如何使用这种技术：

1. 确定方案的自变量。

2. 查找运行次数最少的数组。

3. 标记数组的要素。

4. 选择任何“左上”的值。

5. 转录成运行测试用例，并添加任何特别可疑的不能产生的组合。

### 实例 1 

 Web 页面具有三个不同部分(顶部、中部、底部)，可以单独地显示或隐藏用户

- 没有因素 = 3（顶部，中间，底部）
- 没有级别（能见度）= 2（隐藏或显示）
- 阵列式 = L4(23)

( 4 是创建 OAT 数组后到达的次数)

如果我们去传统的测试技术，我们需要测试用例，如：2×3 = 6 测试用例

| 测试案例 |	脚本 | 测试值 |
|:--------|------|------:|
| 测试 #1 | 隐藏 | 顶部 |
| 测试 #2 | 显示 | 顶部 |
| 测试 #3 | 隐藏 | 底部 |
| 测试 #4 | 显示 | 底部 |
| 测试 #5 | 隐藏 | 中间 |
| 测试 #6 | 显示 | 中间 |

如果我们去我们需要 OAT 测试，4 个测试案例，如下所示：

| 测试案例  | 顶部  | 中间  | 底部 |
|:--------|-------|--------|---------:|
| 测试 #1 | 隐藏 | 隐藏 | 隐藏 |
| 测试 #2 | 隐藏 | 显示 | 显示 |
| 测试 #3 | 显示 | 隐藏 | 显示 |
| 测试 #4 | 显示 | 显示 | 隐藏 |

### 实例 2

微处理器的功能必须测试：

1. 温度：100C、150C、200C。
2. 压力：2psi、8psi 和 5psi
3. 掺杂量：4%、6% 和 8%
4. 沉积速率：0.1mg、0.2mg 和 0.3mg/s/s

通过使用传统的方法，我们需要 = 81 测试用例覆盖所有的输入。让我们用 OAT 法：

因素 = 4（温度，压力，掺杂量和沉积速率）
 
水平 = 3 级每因子（温度有 3 个层次 —— 100c，150C，和 200C，同样也有其他因素的水平）

创建一个数组如下：

#### 1. 列与因素

| 测试案例 # | 温度  | 压力 	| 掺杂量 | 沉积速率 |
|:--------|------------|---------|-------|------:|

#### 2. 输入等于每个级别的行数。即温度有 3 个层次。因此，每个水平的温度插入 3 行。

| 测试案例 # | 温度  | 压力 	| 掺杂量 | 沉积速率 |
|:--------|------------|---------|-------|------:|
| 1 | 100C | 
| 2 | 100C |
| 3 | 100C | 
| 4 | 150C | 
| 5 | 150C | 
| 6 | 150C | 
| 7 | 200C | 
| 8 | 200C | 
| 9 | 200C | 
#### 3.现在分离的压力，掺杂量和沉积速率的列。

例如：输入 2 psi 在温度100C、150C、200C同样进入掺杂量 4％为 100C、150C、200C。

| 测试案例 #|	温度  | 压力  | 掺杂量 | 沉积速率 |
|:--------|------------|---------|-------|------:|
| 1 | 100C | 2 psi | 4% | 0.1 mg/s |
| 2 | 100C | 5 psi | 6% | 0.2 mg/s |
| 3 | 100C | 8 psi | 8% | 0.3 mg/s |
| 4 | 150C | 2 psi | 4% | 0.1 mg/s |
| 5 | 150C | 5 psi | 6% | 0.2 mg/s |
| 6 | 150C | 8 psi | 8% | 0.3 mg/s |
| 7 | 200C | 2 psi | 4% | 0.1 mg/s |
| 8 | 200C | 5 psi | 6% | 0.2 mg/s |
| 9 | 200C | 8 psi | 8% | 0.3 mg/s |

因此，在 OAs，我们需要 9 个测试用例覆盖。

## OAT 的工具

以下是  OAT 的一些工具集：

- Hexawise
- OATS
- CATS
- AETG
- Tconfig

## OAT 的好处

- 保证对所有选定变量的成对组合进行测试。
- 降低测试用例的数量
- 也创造了测试用例，该测试覆盖所有组合的所有变量。
- 变量的复杂组合可以完成。
- 比手工创建的测试集更容易生成和更少出错。
- 对集成测试来说是有用的。
- 提高生产力，减少测试时间和测试周期。

## 挑战：

- 随着数据输入的增加，测试用例的复杂性增加。因此，体力劳动和花费的时间增加。因此，测试人员必须进行自动化测试。
- 用于软件组件的集成测试。

## 执行 OAT 时的错误或问题

1. 测试工作不应该集中在应用程序的错误区域。
2. 避免选择错误的参数组合
3. 避免使用正交阵列测试的最小测试工作。
4. 手动正交阵列测试
5. 正交阵列测试在高风险应用中的应用

## 结论：

在这里，我们已经看到 OAT 如何（正交阵列测试）可以用来减少测试工作，以及如何实现测试用例优化。