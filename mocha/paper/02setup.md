# 搭建开发环境

各位小伙伴大家好，咱们接着前面的课程，继续讲解《基于 Mocha 的自动化测试框架》，现在咱们讲解搭建开发环境这个话题。

## 开发环境介绍

首先，先看一下咱们用到的开发环境是什么。因为，现在主流的开发环境就是苹果系统或者 linux 系统，如果让每个小伙伴买一台苹果笔记本电脑是不现实的。所以，我们选择的开发环境是 linux，选择的发行版是 centOS，咱们把 centOS 安装成最小系统，把 Linux 命令行作为咱们开发的工作站环境。因为，选择的是 Linux 命令行环境，所以写代码所用的集成开发环境就是 vim 了，当然 vim 我配置了一些插件，帮助我们可以高效的编写代码。如果小伙伴们对 vim 编辑器不太熟悉，可以自己在网上找一些教程看一下，我在课程讲解的时候会在屏幕的右下角打开按键提示。也就是说我在 vim 编辑器中按的所有键都会显示出来。方便小伙伴们学习和观摩。当然了，既然使用了 linux，一般咱们都需要使用虚拟机软件，我选择的是 VMware workstation Pro 12 版本。最后，一个软件就是 xshell 5.0，利用 xshell 可以连接到 linux 虚拟机上，而不用在虚拟机窗口中操作 Linux，xshell 配置好之后，就是一个 windows 桌面上的窗口，用户体验是很好的。在 xshell 中进行开发，感觉是在 windows 上进行开发，实际上，后台是 linux 虚拟机。

再说明一点，为了保证小伙伴们跟我在视频课程中的教学环境完全相同，看完视频就可以跟着做练习。我已经把 linux 开发环境配置好了，打包成了一个 mocha.ova 的虚拟机文件，小伙伴们下载这个虚拟机文件，直接配置一下参数，就可以使用了，省掉安装 Linux 虚拟机的环节和步骤了。另外，所以需要用到的软件在 PPT 播放状态点击图标就可以打开相应软件下载的网址，这个 PPT 我会放到 51CTO 课程的资料下载里面。另外，也可以在咱们的课程资料页面上找到软件的下载链接。

下面分三步，给小伙伴们演示一下，开发环境搭建的完整过程。

## 第一步：下载并安装 vmware workstation

第一步，下载并安装 VMware workstation

首先，打开 VMware workstation 的百度软件中心的下载页面，注意请点击普通下载，不要点击高速下载。下载好安装包之后，安装 VMware workstation 这个过程我就不演示了。

## 第二步：下载并导入 mocha.ova 虚拟机文件

第二步，下载并导入 mocha.ova 虚拟机文件（这一步是关键，成败在此一举）

我把 mocha.ova 放到了百度网盘上了，给大家的是网盘的共享链接，点击幻灯片的 centOS 图标，会打开网盘的共享链接，mocha.ova 文件总共 1.33G 不是很大，大家把这个文件下载到自己的电脑上。下载过程我就不演示了。下载好之后，就是导入这个虚拟机文件了。

在导入之前需要特别强调一下，小伙伴们一定要检查一下自己的 windows 系统，是否启用了虚拟化。如果大家安装的是 win10 操作系统，你看一下任务管理器的窗口中是否启用了虚拟化，如果没有启用虚拟化，我们安装的 vmware 是不能用的，你既不能导入 mocha.ova 虚拟机文件，也不能自己创建虚拟机。启用的办法，请参考幻灯片上给的这个屏幕截图。我们需要重新启动电脑，在电脑开机自检的时候，进入 BIOS 进行相应的设置，幻灯片上给的图片，是 BIOS 的设置画面，小伙伴们注意一下，这个 BIOS 的设置画面，针对不同的电脑，比如：台式机和笔记本，甚至不同的笔记本的生产厂商，或者台式机主板的生产厂商不同，BIOS 画面不尽相同，但是大致意思都差不多。这个屏幕截图下面有一个网站地址，大家可以参考一下网上的文章，进行相应的设置。启用了虚拟化之后，咱们才可以进行下面的操作。

导入 mocha.ova 虚拟机文件。首先，打开 vmware workstation 软件，点击窗口上的打开虚拟机图标按钮，找到 mocha.ova 文件的位置，选择 mocha.ova 文件。这时，提示大家创建的虚拟机文件名称和虚拟机存放的位置，一般选择默认就可以，下一步，会提示出错信息，这里大家直接确认忽略错误信息就可以了。导入成功后，我们就看到 vmware workstation 的窗口中，就多了一个 mocha 虚拟机的标签页，我们在标签也上设置一下我们在标签页上设置一下虚拟机的屏幕尺寸为 1024 * 768 就可以了。然后，点击播放按钮，启动虚拟机。

虚拟机启动之后，我们需要在虚拟机的窗口中设置一下虚拟机网卡的 IP 地址。登录的用户名有两个一个是：wangding，一个是：root。我们后面写代码开发的时候使用 wangding 这个账户，需要对系统做一下设置的时候用 root 账户，所有账户的密码都是 ddd。下面咱们用 root 用户登录，密码是 ddd。需要先查看一下虚拟机中网卡的 IP 地址，需要查看本机 windows 的 vmnet8 网卡的 IP 地址，保证两个网卡在一个网段里。两个网卡在一个网段里是什么意思呢？IP 地址有四个数字构成，中间用小数点隔开，我们需要保证前三个数字完全相同即可。【把虚拟机中的 IP 地址框选出来，把本地 IP 地址设置两个窗口平铺，框选出来说明】

设置的办法：

```bash
vim /etc/sysconfig/network-script/ifcfg-ens32

# 修改：IPADDR 和 GATEWAY 两个参数的前三位数字
# :wq 保存退出

systemctl restart network
```

## 第三步：下载并安装 xshell

最后一步下载并安装 xshell

打开 xshell 百度软件中心的下载页面，点击普通下载。安装 xshell 的过程，安照安装向导的提示，一步一步完成安装。

安装之后启动 xshell 的第一个画面就是创建连接。连接的名称设置为 mocha，IP 地址设置为刚才在虚拟机中设置的地址。

连接虚拟机的时候，用户名：wangding，保存用户名，密码：ddd，保存密码。然后把窗口上无关的界面元素关闭，保证窗口的代码区域最大。

连接上虚拟机之后，可以把窗口分组，左边写代码，右边执行命令。

通过几个命令验证一下系统的状态。

```bash
git --version
node -v
npm -v

# 设置一下 git 的参数

cd ~/wd/tools
touch a
git ad
git ci -m "add a"

# 报错，因为没有设置 user.name 和 user.email

git config --global user.name "wangding"
git config --global user.email "408542507@qq.com"
```

开发环境安装到此结束。

